<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"/>
<title>Curso Streaming</title>
<link rel="stylesheet" href="/ui/ui.css" />
</head><body>
<header>
 <button id="startBtn">🚀 Iniciar Curso</button>
 <button id="streamBtn" disabled>▶️ Stream</button>
 <div id="status">Aguardando...</div>
</header>
<div class="container">
 <h2>📚 Geração de Curso em Tempo Real</h2>
 <div id="avatarShell" class="avatar-shell" aria-label="Avatar Apresentador">
    <video id="avatarVideo" autoplay muted playsinline></video>
    <canvas id="avatarChromaCanvas" class="avatar-chroma"></canvas>
     <div id="avatarCaptions" aria-live="polite" aria-atomic="true"></div>
     <div class="avatar-controls">
         <button id="avatarToggle" title="Ativar/Desativar Locutor">🗣️</button>
         <button id="avatarMute" title="Silenciar">🔇</button>
         <button id="avatarCancel" title="Cancelar fala atual">⏹️</button>
     </div>
 </div>
 <button id="followBtn" class="follow-btn" style="display:none">⬇️ Acompanhar</button>
 <div id="progressWrapper">
  <div id="progressBar"><div id="bar"></div></div>
  <div id="percentage">0%</div>
 </div>
 <div class="ondemand-controls">
     <button id="nextLessonBtn" disabled>➕ Próxima Lição</button>
    <button id="pulseBtn" disabled>⚡ Pulse Perguntas</button>
 </div>
    <div id="layout">
        <div id="content">
            <div id="header">💭 Aguardando início...</div>
            <div id="stream"></div>
        </div>
        <aside id="chatPanel">
            <h3>💬 Chat & Perguntas</h3>
                        <div id="legend" class="legend">
                                <span class="legend-item"><span class="tag route-CHAT_NOW"></span> Resposta imediata</span>
                                <span class="legend-item"><span class="tag route-PAUSE"></span> Aguardando pausa</span>
                                <span class="legend-item"><span class="tag route-END_TOPIC"></span> Para fim do tópico</span>
                                <span class="legend-item"><span class="tag route-FINAL"></span> Fim da sessão</span>
                                <span class="legend-item"><span class="tag route-NOTE"></span> Nota apresentador</span>
                        </div>
                        <div id="chatControls" class="chat-controls">
                            <button type="button" id="refreshChat" title="Atualizar estado agora">🔄 Atualizar</button>
                            <button type="button" id="toggleAll" title="Expandir/retrair grupos">🗂️ Alternar Grupos</button>
                            <label class="filter-immediate"><input type="checkbox" id="hideImmediate" /> Ocultar IMEDIATAS</label>
                        </div>
            <div id="chatScroll">
                <div id="answers"></div>
                                <div id="pending">
                                        <h4>Pendentes</h4>
                                        <div id="pendingGroups">
                                                                    <div class="pending-group" id="pendingNow" data-group="now">
                                                                        <h5 class="group-header" data-group-toggle="now">➡️ Processando / Recentes <span class="count" id="countNow"></span></h5>
                                                <ul id="pendingListNow" class="pendingList"></ul>
                                            </div>
                                                                    <div class="pending-group" id="pendingPause" data-group="pause">
                                                                        <h5 class="group-header" data-group-toggle="pause">⏸️ Aguardando Pausa <span class="count" id="countPause"></span></h5>
                                                <ul id="pendingListPause" class="pendingList"></ul>
                                            </div>
                                                                    <div class="pending-group" id="pendingEnd" data-group="end">
                                                                        <h5 class="group-header" data-group-toggle="end">🔚 Fim do Tópico <span class="count" id="countEnd"></span></h5>
                                                <ul id="pendingListEnd" class="pendingList"></ul>
                                            </div>
                                            <div class="pending-group" id="pendingFinal" data-group="final">
                                                <h5 class="group-header" data-group-toggle="final">🏁 Fim da Sessão <span class="count" id="countFinal"></span></h5>
                                                <ul id="pendingListFinal" class="pendingList"></ul>
                                            </div>
                                            <div class="pending-group" id="pendingNotes" data-group="notes">
                                                <h5 class="group-header" data-group-toggle="notes">📝 Notas Apresentador <span class="count" id="countNotes"></span></h5>
                                                <ul id="pendingListNotes" class="pendingList"></ul>
                                            </div>
                                        </div>
                                </div>
            </div>
            <form id="chatForm">
                <textarea id="chatInput" placeholder="Digite sua pergunta..." rows="2"></textarea>
                <div class="chat-actions">
                    <button type="submit" id="sendChat">Enviar</button>
                                        <label class="speed-label">Velocidade
                                            <input id="speedRange" type="range" min="4" max="60" value="12" />
                                        </label>
                </div>
            </form>
        </aside>
    </div>
 </div>
</div>
<script src="https://aka.ms/csspeech/jsbrowserpackageraw"></script>
<script src="/ui/ui.js" type="module"></script>
</body></html>
